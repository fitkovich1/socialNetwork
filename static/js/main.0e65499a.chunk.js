(window["webpackJsonpmy-app"]=window["webpackJsonpmy-app"]||[]).push([[0],{11:function(e,t,n){e.exports={nav:"Navbar_nav__2o54H",item:"Navbar_item__1kr_S",active:"Navbar_active__2LXrb",friends:"Navbar_friends__XvShx"}},129:function(e,t,n){e.exports=n.p+"static/media/user.ea7658a6.jpg"},130:function(e,t,n){e.exports=n.p+"static/media/preloader.db6878e8.svg"},131:function(e,t,n){e.exports={item:"Post_item__111i7"}},157:function(e,t,n){e.exports=n(286)},239:function(e,t,n){},240:function(e,t,n){},245:function(e,t,n){},246:function(e,t,n){},247:function(e,t,n){},26:function(e,t,n){e.exports={dialogs:"Dialogs_dialogs__36u7U",dialogsItems:"Dialogs_dialogsItems__1IiGM",active:"Dialogs_active__2Jh6t",dialog:"Dialogs_dialog__2bL50",messages:"Dialogs_messages__1xLqD"}},28:function(e,t,n){e.exports={users:"Users_users__dWEjg",container:"Users_container__3_5nz",userPhoto:"Users_userPhoto__2ONAc",fullNameAndStatus:"Users_fullNameAndStatus__315q-",location:"Users_location__1PsIW",usersInfo:"Users_usersInfo__1McMf",usersAvatar:"Users_usersAvatar__3e4OM",selectedPage:"Users_selectedPage__38bZ3",pages:"Users_pages__1nCiH"}},286:function(e,t,n){"use strict";n.r(t);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));var a=n(6),r=n(43),o=n(25),s=n(124).create({withCredentials:!0,baseURL:"https://social-network.samuraijs.com/api/1.0/",headers:{"API-KEY":"edd25c6c-92b4-48d9-95c2-52b239caae08"}}),i=function(e,t){return s.get("users?page=".concat(e,"&count=").concat(t)).then((function(e){return e.data}))},c=function(e){return s.post("follow/".concat(e))},l=function(e){return s.delete("follow/".concat(e))},u=function(e){return console.warn("Obsolete method. Please profileAPI object."),f.getProfile(e)},m=function(){return s.get("auth/me/")},p=function(e,t){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return s.post("auth/login/",{email:e,password:t,rememberMe:n})},d=function(){return s.delete("auth/login/")},f={getProfile:function(e){return s.get("profile/"+e)},getStatus:function(e){return s.get("profile/status/"+e)},updateStatus:function(e){return s.put("profile/status/",{status:e})}};function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var h={posts:[{id:1,message:"Hi, how are you feeling?",likesCount:15,autor:"Kolya"},{id:2,message:"Nice to meet you, bro",likesCount:20,autor:"Dima"},{id:3,message:"I love you my darling",likesCount:5,autor:"Sveta"}],profile:null,status:""},b=function(e){return{type:"SET_STATUS",status:e}},v=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:h,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-POST":var n={id:4,message:t.newPostText,likesCount:0,autor:"Misha"};return E({},e,{posts:[].concat(Object(r.a)(e.posts),[n])});case"SET_STATUS":return E({},e,{status:t.status});case"SET_USER_PROFILE":return E({},e,{profile:t.profile});default:return e}};function O(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function j(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?O(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):O(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var _={dialogs:[{id:1,name:"Kolya"},{id:2,name:"Sveta"},{id:3,name:"Dimych"},{id:4,name:"Maksim"},{id:5,name:"Dasha"}],messages:[{id:1,message:"Hi, men!!!"},{id:2,message:"Kate loves my hair!"},{id:3,message:"YO, come on!"},{id:4,message:"WOW, you are amazing!"},{id:5,message:"Fuck your self, motherfucker"}]},y=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:_,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"ADD-MESSAGE":var n=t.newMessageBody;return j({},e,{messages:[].concat(Object(r.a)(e.messages),[{id:6,message:n}])});default:return e}},P={},w=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:P;arguments.length>1&&arguments[1];return e};function S(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function N(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?S(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):S(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var C={users:[],pageSize:30,totalUsersCount:0,currentPage:1,isFetching:!1,followingInProgress:[]},I=function(e){return{type:"SET_CURRENT_PAGE",currentPage:e}},k=function(e){return{type:"TOGGLE_IS_FETCHING",isFetching:e}},A=function(e,t){return{type:"TOGGLE_IS_FOLLOWING_PROGRESS",isFetching:e,userId:t}},U=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"FOLLOW":return N({},e,{users:e.users.map((function(e){return e.id===t.userId?N({},e,{followed:!0}):e}))});case"UNFOLLOW":return N({},e,{users:e.users.map((function(e){return e.id===t.userId?N({},e,{followed:!1}):e}))});case"SET_USERS":return N({},e,{users:t.users});case"SET_CURRENT_PAGE":return N({},e,{currentPage:t.currentPage});case"SET_TOTAL_USERS_COUNT":return N({},e,{totalUsersCount:t.totalUsersCount});case"TOGGLE_IS_FETCHING":return N({},e,{isFetching:t.isFetching});case"TOGGLE_IS_FOLLOWING_PROGRESS":return N({},e,{followingInProgress:t.isFetching?[].concat(Object(r.a)(e.followingInProgress),[t.userId]):e.followingInProgress.filter((function(e){return e!==t.userId}))});default:return e}},D=n(37);function T(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function M(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?T(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):T(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var F={id:null,email:null,login:null,isAuth:!1},L=function(e,t,n,a){return{type:"SET_USER_DATA",payload:{email:t,id:e,login:n,isAuth:a}}},x=function(){return function(e){return m().then((function(t){if(0===t.data.resultCode){var n=t.data.data,a=n.id,r=n.email,o=n.login;e(L(a,r,o,!0))}}))}},z=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:F,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"SET_USER_DATA":return M({},e,{},t.payload);default:return e}},G=n(125),R=n(123);function B(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function W(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?B(Object(n),!0).forEach((function(t){Object(o.a)(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):B(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}var H={initialized:!1},q=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:H,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"INITIALIZED_SUCCESS":return W({},e,{initialized:!0});default:return e}},K=Object(a.c)({profilePage:v,dialogsPage:y,sidebar:w,usersPage:U,auth:z,form:R.a,app:q}),J=Object(a.e)(K,Object(a.a)(G.a));window.store=J;var X=J,Z=n(0),Y=n.n(Z),Q=n(60),$=n.n(Q),V=(n(239),n(16)),ee=n(17),te=n(19),ne=n(18),ae=n(20),re=(n(240),n(11)),oe=n.n(re),se=n(9),ie=n(34),ce=n.n(ie),le=function(){return Y.a.createElement("div",{className:ce.a.container},Y.a.createElement("div",{className:ce.a.avatar},Y.a.createElement("div",{className:ce.a.imgName},Y.a.createElement("img",{src:"http://cm1.narvii.com/7137/82dfdf5249f75571554874c604090c0c3a261c1e_00.jpg",alt:"\u0410\u0432\u0430\u0442\u0430\u0440"}),Y.a.createElement("div",null,Y.a.createElement("span",null,"Nima")))),Y.a.createElement("div",{className:ce.a.avatar},Y.a.createElement("div",{className:ce.a.imgName},Y.a.createElement("img",{src:"http://cm1.narvii.com/7137/82dfdf5249f75571554874c604090c0c3a261c1e_00.jpg",alt:"\u0410\u0432\u0430\u0442\u0430\u0440"}),Y.a.createElement("div",null,Y.a.createElement("span",null,"Kolya")))),Y.a.createElement("div",{className:ce.a.avatar},Y.a.createElement("div",{className:ce.a.imgName},Y.a.createElement("img",{src:"http://cm1.narvii.com/7137/82dfdf5249f75571554874c604090c0c3a261c1e_00.jpg",alt:"\u0410\u0432\u0430\u0442\u0430\u0440"}),Y.a.createElement("div",null,Y.a.createElement("span",null,"Ibragim")))))},ue=function(e){return Y.a.createElement("nav",{className:oe.a.nav},Y.a.createElement("div",{className:oe.a.item},Y.a.createElement(se.b,{to:"/profile",activeClassName:oe.a.active},"Profile")),Y.a.createElement("div",{className:oe.a.item},Y.a.createElement(se.b,{to:"/dialogs",activeClassName:oe.a.active}," Messages ")),Y.a.createElement("div",{className:oe.a.item},Y.a.createElement(se.b,{to:"/users",activeClassName:oe.a.active},"Users")),Y.a.createElement("div",{className:oe.a.item},Y.a.createElement(se.b,{to:"/news",activeClassName:oe.a.active},"News")),Y.a.createElement("div",{className:oe.a.item},Y.a.createElement(se.b,{to:"/music",activeClassName:oe.a.active},"Music")),Y.a.createElement("div",{className:oe.a.item},Y.a.createElement(se.b,{to:"/settings",activeClassName:oe.a.active},"Settings")),Y.a.createElement("div",{className:oe.a.friends},Y.a.createElement(se.b,{to:"/friends",activeClassName:oe.a.active},"Friends:"),Y.a.createElement(le,null)))},me=n(33),pe=(n(245),function(e){return Y.a.createElement("div",null,"News")}),de=(n(246),function(e){return Y.a.createElement("div",null,"Music")}),fe=(n(247),function(e){return Y.a.createElement("div",null,"Settings")}),ge=n(26),Ee=n.n(ge),he=function(e){return Y.a.createElement("div",{className:Ee.a.dialog+" "+Ee.a.active},Y.a.createElement("img",{src:"https://www.robinwieruch.de/static/63fc17d2f237ae4c3f61073a0436cf81/2b1a3/banner.jpg"}),Y.a.createElement(se.b,{to:"/dialogs/"+e.id,activeClassName:Ee.a.active},e.name))},be=function(e){return Y.a.createElement("div",{className:Ee.a.message},e.message)},ve=n(122),Oe=function(e){if(!e)return"Field is required"},je=function(e){return function(t){if(t.length>e)return"Max length is ".concat(e," symbols")}},_e=n(121),ye=n(66),Pe=n(50),we=n.n(Pe),Se=function(e){e.input;var t=e.meta,n=(e.child,Object(ye.a)(e,["input","meta","child"])),a=t.touched&&t.error;return Y.a.createElement("div",{className:we.a.formControl+" "+(a?we.a.error:"")},Y.a.createElement("div",null,n.children),a&&Y.a.createElement("span",null,t.error))},Ne=function(e){var t=e.input,n=(e.meta,e.child,Object(ye.a)(e,["input","meta","child"]));return Y.a.createElement(Se,e,Y.a.createElement("textarea",Object.assign({},t,n)))},Ce=function(e){var t=e.input,n=(e.meta,e.child,Object(ye.a)(e,["input","meta","child"]));return Y.a.createElement(Se,e,Y.a.createElement("input",Object.assign({},t,n)))},Ie=je(50),ke=function(e){return Y.a.createElement("form",{onSubmit:e.handleSubmit},Y.a.createElement("div",null,Y.a.createElement(_e.a,{name:"newMessageBody",component:Ne,validate:[Oe,Ie],placeholder:"Enter your message"})),Y.a.createElement("div",null,Y.a.createElement("button",null,"Send")))},Ae=Object(ve.a)({form:"dialogAddMessageForm"})(ke),Ue=function(e){var t=e.dialogsPage,n=t.dialogs.map((function(e){return Y.a.createElement(he,{name:e.name,key:e.id,id:e.id})})),a=t.messages.map((function(e){return Y.a.createElement(be,{message:e.message,key:e.id,id:e.id})}));return Y.a.createElement("div",{className:Ee.a.dialogs},Y.a.createElement("div",{className:Ee.a.dialogsItems},n),Y.a.createElement("div",{className:Ee.a.messages},Y.a.createElement("div",null,a),Y.a.createElement(Ae,{onSubmit:function(t){e.addMessage(t.newMessageBody)}})))},De=n(8),Te=function(e){return{isAuth:e.auth.isAuth}},Me=function(e){var t=function(t){function n(){return Object(V.a)(this,n),Object(te.a)(this,Object(ne.a)(n).apply(this,arguments))}return Object(ae.a)(n,t),Object(ee.a)(n,[{key:"render",value:function(){return this.props.isAuth?Y.a.createElement(e,this.props):Y.a.createElement(me.a,{to:"/login"})}}]),n}(Y.a.Component);return Object(De.b)(Te)(t)},Fe=Object(a.d)(Object(De.b)((function(e){return{dialogsPage:e.dialogsPage}}),(function(e){return{addMessage:function(t){e(function(e){return{type:"ADD-MESSAGE",newMessageBody:e}}(t))}}})),Me)(Ue),Le=n(28),xe=n.n(Le),ze=n(129),Ge=n.n(ze),Re=function(e){for(var t=Math.ceil(e.totalUsersCount/e.pageSize),n=[],a=1;a<=t;a++)n.push(a);return Y.a.createElement("div",{className:xe.a.users},Y.a.createElement("div",{className:xe.a.pages},n.map((function(t){return Y.a.createElement("span",{className:e.currentPage===t&&xe.a.selectedPage,onClick:function(n){e.onPageChanged(t)}},t)}))),e.users.map((function(t){return Y.a.createElement("div",{key:t.id},Y.a.createElement("div",{className:xe.a.container},Y.a.createElement("div",{className:xe.a.usersAvatar},Y.a.createElement("div",null,Y.a.createElement(se.b,{to:"/profile/"+t.id},Y.a.createElement("img",{src:null!==t.photos.small?t.photos.small:Ge.a,className:xe.a.userPhoto}))),Y.a.createElement("div",null,t.followed?Y.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.unfollow(t.id)}},"Unfollow "):Y.a.createElement("button",{disabled:e.followingInProgress.some((function(e){return e===t.id})),onClick:function(){e.follow(t.id)}},"Follow"))),Y.a.createElement("div",{className:xe.a.usersInfo},Y.a.createElement("div",{className:xe.a.fullNameAndStatus},Y.a.createElement("span",null,t.name),Y.a.createElement("span",null,t.status)),Y.a.createElement("div",{className:xe.a.location},Y.a.createElement("span",null," Minsk"),Y.a.createElement("span",null,"Belarus")))))})))},Be=n(130),We=n.n(Be),He=function(e){return Y.a.createElement("div",null,Y.a.createElement("img",{src:We.a}))},qe=function(e){return e.usersPage.users},Ke=function(e){return e.usersPage.pageSize},Je=function(e){return e.usersPage.totalUsersCount},Xe=function(e){return e.usersPage.currentPage},Ze=function(e){return e.usersPage.isFetching},Ye=function(e){return e.usersPage.followingInProgress},Qe=function(e){function t(){var e,n;Object(V.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(te.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(r)))).onPageChanged=function(e){n.props.getUsers(e,n.props.pageSize)},n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"componentDidMount",value:function(){this.props.getUsers(this.props.currentPage,this.props.pageSize)}},{key:"render",value:function(){return Y.a.createElement(Y.a.Fragment,null,this.props.isFetching?Y.a.createElement(He,null):null,Y.a.createElement(Re,{totalUsersCount:this.props.totalUsersCount,pageSize:this.props.pageSize,currentPage:this.props.currentPage,onPageChanged:this.onPageChanged,users:this.props.users,followingInProgress:this.props.followingInProgress,follow:this.props.follow,unfollow:this.props.unfollow}))}}]),t}(Y.a.Component),$e=Object(a.d)(Object(De.b)((function(e){return{users:qe(e),pageSize:Ke(e),totalUsersCount:Je(e),currentPage:Xe(e),isFetching:Ze(e),followingInProgress:Ye(e)}}),{setCurrentPage:I,toggleFollowingInProgress:A,getUsers:function(e,t){return function(n){n(k(!0)),n(I(e)),i(e,t).then((function(e){n(k(!1)),n({type:"SET_USERS",users:e.items}),n({type:"SET_TOTAL_USERS_COUNT",totalUsersCount:e.totalCount})}))}},follow:function(e){return function(t){t(A(!0,e)),c(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:"FOLLOW",userId:e}}(e)),t(A(!1,e))}))}},unfollow:function(e){return function(t){t(A(!0,e)),l(e).then((function(n){0===n.data.resultCode&&t(function(e){return{type:"UNFOLLOW",userId:e}}(e)),t(A(!1,e))}))}}}))(Qe),Ve=n(83),et=n.n(Ve),tt=function(e){function t(){var e,n;Object(V.a)(this,t);for(var a=arguments.length,r=new Array(a),o=0;o<a;o++)r[o]=arguments[o];return(n=Object(te.a)(this,(e=Object(ne.a)(t)).call.apply(e,[this].concat(r)))).state={editMode:!1,status:n.props.status},n.activateEditMode=function(){n.setState({editMode:!0})},n.deactivateEditMode=function(){n.setState({editMode:!1}),n.props.updateStatus(n.state.status)},n.onStatusChange=function(e){n.setState({status:e.currentTarget.value})},n}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"componentDidUpdate",value:function(e,t,n){e.status!==this.props.status&&this.setState({status:this.props.status})}},{key:"render",value:function(){return Y.a.createElement("div",null,this.state.editMode?Y.a.createElement("div",null,Y.a.createElement("input",{onChange:this.onStatusChange,onBlur:this.deactivateEditMode,value:this.state.status,autoFocus:!0})):Y.a.createElement("div",null,Y.a.createElement("span",{onDoubleClick:this.activateEditMode},this.props.status||"----")))}}]),t}(Y.a.Component),nt=function(e){return e.profile?Y.a.createElement("div",null,Y.a.createElement("div",{className:et.a.descriptionBlock},Y.a.createElement("img",{src:e.profile.photos.large}),Y.a.createElement(tt,{status:e.status,updateStatus:e.updateStatus}))):Y.a.createElement(He,null)},at=n(89),rt=n.n(at),ot=n(131),st=n.n(ot),it=function(e){return Y.a.createElement("div",{className:st.a.item},Y.a.createElement("span",null,e.autor),Y.a.createElement("img",{src:"https://sumopaint.com/images/icon.png"}),e.message,Y.a.createElement("div",null,Y.a.createElement("span",null,"like"),e.likesCount))},ct=je(10),lt=function(e){return Y.a.createElement("form",{onSubmit:e.handleSubmit},Y.a.createElement("div",null,Y.a.createElement(_e.a,{name:"newPostText",component:Ne,placeholder:"Post message",validate:[Oe,ct]})),Y.a.createElement("div",null,Y.a.createElement("button",null,"Add Post")))};lt=Object(ve.a)({form:"ProfileAddNewPostForm"})(lt);var ut=function(e){var t=e.posts.map((function(e){return Y.a.createElement(it,{message:e.message,likesCount:e.likesCount,autor:e.autor,id:e.id})}));return Y.a.createElement("div",{className:rt.a.postsBlock},Y.a.createElement("h3",null,"my Posts"),Y.a.createElement(lt,{onSubmit:function(t){e.addPost(t.newPostText)}}),Y.a.createElement("div",{className:rt.a.posts},t))},mt=Object(De.b)((function(e){return{posts:e.profilePage.posts,newPostText:e.profilePage.newPostText}}),(function(e){return{addPost:function(t){e(function(e){return{type:"ADD-POST",newPostText:e}}(t))}}}))(ut),pt=function(e){return Y.a.createElement("div",null,Y.a.createElement(nt,{profile:e.profile,status:e.status,updateStatus:e.updateStatus}),Y.a.createElement(mt,{store:e.store}))},dt=function(e){function t(){return Object(V.a)(this,t),Object(te.a)(this,Object(ne.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.match.params.userId;e||(e=this.props.authorizedUserId)||this.props.history.push("/login"),this.props.getUserProfile(e),this.props.getStatus(e)}},{key:"render",value:function(){return Y.a.createElement("div",null,Y.a.createElement(pt,Object.assign({},this.props,{profile:this.props.profile,status:this.props.status,updateStatus:this.props.updateStatus})))}}]),t}(Y.a.Component),ft=Object(a.d)(Object(De.b)((function(e){return{profile:e.profilePage.profile,status:e.profilePage.status,authorizedUserId:e.auth.id,isAuth:e.auth.isAuth}}),{getUserProfile:function(e){return function(t){u(e).then((function(e){t({type:"SET_USER_PROFILE",profile:e.data})}))}},getStatus:function(e){return function(t){f.getStatus(e).then((function(e){t(b(e.data))}))}},updateStatus:function(e){return function(t){f.updateStatus(e).then((function(n){0===n.data.resultCode&&t(b(e))}))}}}),me.f,Me)(dt),gt=n(90),Et=n.n(gt),ht=function(e){return Y.a.createElement("header",{className:Et.a.header},Y.a.createElement("img",{src:"http://up.desktx.net/pic_360/78/07/81/7807811d1ca6044bb826cf19f33d8cc4.jpg"}),Y.a.createElement("div",{className:Et.a.loginBlock},e.isAuth?Y.a.createElement("div",null,e.login," - ",Y.a.createElement("button",{onClick:e.logout},"Log out")):Y.a.createElement(se.b,{to:"/login"},"Login")))},bt=function(e){function t(){return Object(V.a)(this,t),Object(te.a)(this,Object(ne.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"render",value:function(){return Y.a.createElement(ht,this.props)}}]),t}(Y.a.Component),vt=Object(De.b)((function(e){return{isAuth:e.auth.isAuth,login:e.auth.login}}),{logout:function(){return function(e){d().then((function(t){0===t.data.resultCode&&e(L(null,null,null,!1))}))}}})(bt),Ot=Object(ve.a)({form:"login"})((function(e){return Y.a.createElement("form",{onSubmit:e.handleSubmit},Y.a.createElement("div",null,Y.a.createElement(_e.a,{name:"email",placeholder:"Email",validate:[Oe],component:Ce})),Y.a.createElement("div",null,Y.a.createElement(_e.a,{name:"password",placeholder:"Password",type:"password",validate:[Oe],component:Ce})),Y.a.createElement("div",null,Y.a.createElement(_e.a,{component:Ce,name:"rememberMe",type:"checkbox"})," remember me"),e.error&&Y.a.createElement("div",{className:we.a.formSummaryError},e.error),Y.a.createElement("div",null,Y.a.createElement("button",null,"Login")))})),jt=Object(De.b)((function(e){return{isAuth:e.auth.isAuth}}),{login:function(e,t,n){return function(a){p(e,t,n).then((function(e){if(0===e.data.resultCode)a(x());else{var t=e.data.messages.length>0?e.data.messages[0]:"Some error";a(Object(D.a)("login",{_error:t}))}}))}}})((function(e){return e.isAuth?Y.a.createElement(me.a,{to:"/profile"}):Y.a.createElement("div",null,Y.a.createElement("h1",null,"Login"),Y.a.createElement(Ot,{onSubmit:function(t){e.login(t.email,t.password,t.rememberMe)}}))})),_t=function(e){function t(){return Object(V.a)(this,t),Object(te.a)(this,Object(ne.a)(t).apply(this,arguments))}return Object(ae.a)(t,e),Object(ee.a)(t,[{key:"componentDidMount",value:function(){this.props.initializeApp()}},{key:"render",value:function(){return this.props.initialized?Y.a.createElement("div",{className:"app-wrapper"},Y.a.createElement(vt,null),Y.a.createElement(ue,null),Y.a.createElement("div",{className:"app-wrapper-content"},Y.a.createElement(me.b,{path:"/dialogs",render:function(){return Y.a.createElement(Fe,null)}}),Y.a.createElement(me.b,{path:"/profile/:userId?",render:function(){return Y.a.createElement(ft,null)}}),Y.a.createElement(me.b,{path:"/users",render:function(){return Y.a.createElement($e,null)}}),Y.a.createElement(me.b,{path:"/login",render:function(){return Y.a.createElement(jt,null)}}),Y.a.createElement(me.b,{path:"/news",component:pe}),Y.a.createElement(me.b,{path:"/music",component:de}),Y.a.createElement(me.b,{path:"/settings",component:fe}))):Y.a.createElement(He,null)}}]),t}(Z.Component),yt=Object(a.d)(me.f,Object(De.b)((function(e){return{initialized:e.app.initialized}}),{initializeApp:function(){return function(e){e(x()).then((function(){e({type:"INITIALIZED_SUCCESS"})}))}}}))(_t);$.a.render(Y.a.createElement(se.a,null,Y.a.createElement(De.a,{store:X},Y.a.createElement(yt,null))),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then((function(e){e.unregister()}))},34:function(e,t,n){e.exports={imgName:"Friends_imgName__1jAC8",container:"Friends_container__xsiPE"}},50:function(e,t,n){e.exports={formControl:"FormsControls_formControl__poJqh",error:"FormsControls_error__2dKzt",formSummaryError:"FormsControls_formSummaryError__2zhWq"}},83:function(e,t,n){e.exports={descriptionBlock:"ProfileInfo_descriptionBlock__3FLst"}},89:function(e,t,n){e.exports={postsBlock:"MyPosts_postsBlock__2BQvk",posts:"MyPosts_posts__3qXmg"}},90:function(e,t,n){e.exports={header:"Header_header__3scgo",loginBlock:"Header_loginBlock__2w9Xw"}}},[[157,1,2]]]);
//# sourceMappingURL=main.0e65499a.chunk.js.map